<h1>Login</h1>

<form [formGroup]="loginForm" (submit)="login()">

    <div class="input_field">
    <input 
        formControlName="email"
        type="email"
        name="email"
        [class.error-border]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
        placeholder="Email"/>

    @if(loginForm.get('email')?.invalid && loginForm.get('email')?.touched){

        <div class="error">
            <p>{{getFieldError('email')}}</p>
            </div>
    }

    </div>

    <div class="input_field">

    <input  
        formControlName="password"
        type="password" 
        name="password"   
        placeholder="Password"
        [class.error-border]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
    />


    @if(loginForm.get('password')?.invalid && loginForm.get('password')?.touched){

        <div class="error">
            <p>{{getFieldError('password')}}</p>
            </div>
    } 
    </div>


    <button type="submit"  [disabled]="loginForm.invalid">Sigin in</button>
    
    <a routerLink="/forgot-password">Forgot your password</a>
</form>


@if(errorMessage){
    <p id="erro">{{errorMessage}}</p>
}

<button type="button" (click)="loginWithGoogle()"><img ngSrc="google-icon.png" height="20" width="20" priority>Login With Google</button>

<p>Don't have an account ? <a routerLink="/register">Sign Up</a> </p>
